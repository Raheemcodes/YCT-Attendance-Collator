<div class="backdrop" (click)="close(cover)"></div>
<div
  class="form-cover"
  #cover
  (touchstart)="onTouchStart($event)"
  (touchmove)="onTouchMove($event)"
  (touchend)="onTouchEnd()"
>
  <hr />

  <form
    class="form-control"
    #loginForm="ngForm"
    (ngSubmit)="onLogin(loginForm)"
    *ngIf="isRegistered"
  >
    <h1>Login!</h1>

    <p *ngIf="error && !isLoading" class="error-box">
      {{ error }}
    </p>

    <div class="form-input__cover">
      <input
        type="text"
        name="matricNumber"
        [ngClass]="{
          'form-input': true,
          'ng-valid': !error,
          'ng-invalid ng-touched': error
        }"
        [(ngModel)]="matricNum"
        required
        #matricNumber="ngModel"
        readonly
      />
      <span
        class="help-block"
        *ngIf="!matricNumber.valid && matricNumber.touched"
        >Invalid MatricNumber!</span
      >
    </div>
    <button class="biometric-trigger__cover" *ngIf="!isLoading">
      Authenticate
      <svg
        x="0"
        y="0"
        viewBox="0 0 471.864 471.864"
        xml:space="preserve"
        class="biometric-trigger"
      >
        <g>
          <g xmlns="http://www.w3.org/2000/svg">
            <g>
              <g>
                <g>
                  <g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m93.655 76.709c-2.918 2.854-7.59 2.79-10.419-.128-2.854-2.918-2.79-7.59.128-10.419.435-.435 148.134-148.134 303.514-.768 2.944 2.79 3.072 7.462.243 10.381-2.79 2.944-7.462 3.072-10.381.243-144.934-137.446-282.675.294-283.085.691z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m198.974 66.674c-3.93.947-7.923-1.472-8.883-5.402s1.472-7.923 5.402-8.883c.525-.128 181.862-46.669 214.822 165.862.614 3.994-2.125 7.77-6.144 8.384-3.994.614-7.77-2.125-8.384-6.144-30.439-196.556-196.353-153.945-196.813-153.817z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m158.474 65.65c3.84-1.293 8.013.794 9.306 4.634s-.794 8.013-4.634 9.306c-.218.064-77.261 24.973-86.963 138.022-.333 4.058-3.904 7.066-7.962 6.733s-7.066-3.904-6.733-7.962c10.574-122.739 96.743-150.631 96.986-150.733z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m85.31 319.653c-3.098 2.611-7.744 2.176-10.355-.922s-2.176-7.744.922-10.355c8.077-6.758 14.259-21.376 18.957-38.374 4.915-17.754 8.115-38.029 10.202-55.014 3.814-30.502 16.102-58.765 34.496-80.858 13.235-15.885 29.619-28.595 48.23-36.621 18.739-8.077 39.693-11.456 61.99-8.666 27.213 3.379 56.397 15.974 85.773 40.486 3.098 2.586 3.533 7.219.947 10.317s-7.219 3.533-10.317.947c-27.034-22.515-53.581-34.074-78.182-37.146-19.597-2.432-37.965.525-54.374 7.59-16.499 7.13-31.027 18.368-42.765 32.474-16.589 19.942-27.712 45.53-31.181 73.242-2.176 17.382-5.466 38.336-10.662 57.139-5.441 19.547-13.032 36.814-23.681 45.761z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m112.458 370.956c-3.098 2.611-7.744 2.176-10.355-.922s-2.176-7.744.922-10.355c7.68-6.426 16.435-26.662 24.09-51.238 8.845-28.416 15.885-62.144 18.061-87.526.026-.397.09-.768.179-1.139 4.634-27.584 14.682-48.141 27.674-62.694 10.931-12.224 23.936-20.211 37.632-24.576 13.67-4.326 27.955-5.069 41.536-2.829 17.139 2.829 33.242 10.381 45.555 21.414 21.837 19.533 24.512 43.494 27.405 69.146.218 2.061.461 4.147.858 7.501.986 8.358 1.997 18.061 3.046 27.802 4.582 43.84 9.242 88.563 27.93 129.792 1.664 3.712.026 8.051-3.686 9.741-3.712 1.664-8.051.026-9.741-3.686-19.635-43.341-24.422-89.306-29.158-134.336-.922-8.819-1.843-17.574-3.046-27.584-.218-1.715-.525-4.672-.858-7.616-2.547-22.797-4.915-44.083-22.554-59.84-10.227-9.152-23.718-15.45-38.118-17.843-11.43-1.869-23.411-1.293-34.739 2.304-11.302 3.597-22.054 10.202-31.155 20.365-11.238 12.595-19.994 30.72-24.115 55.386-2.278 26.291-9.549 61.158-18.714 90.56-8.335 26.992-18.626 49.776-28.649 58.173z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m134.18 401.855c-2.586 3.136-7.219 3.622-10.355 1.05-3.136-2.573-3.622-7.219-1.05-10.355 5.466-6.694 17.139-24.358 28.787-46.234 8.166-15.36 16.218-32.589 21.99-49.306 5.286-15.27 6.784-26.573 8.474-39.104.922-6.822 1.869-14.003 3.443-22.144 2.086-10.842 4.608-20.096 7.501-27.866 3.136-8.474 6.758-15.36 10.752-20.826 6.886-9.395 16.41-15.053 26.547-16.922 7.962-1.472 16.282-.614 23.962 2.547 7.654 3.136 14.656 8.538 20.032 16.192 7.706 10.931 12.07 26.483 10.01 46.477-3.098 30.259-15.334 70.899-29.978 109.21-18.214 47.616-40.371 92.134-53.542 108.992-2.483 3.2-7.091 3.75-10.291 1.254-3.2-2.483-3.75-7.091-1.254-10.291 12.352-15.821 33.613-58.765 51.366-105.19 14.285-37.35 26.176-76.646 29.094-105.459 1.664-16.102-1.6-28.237-7.437-36.493-3.712-5.248-8.448-8.934-13.581-11.059-5.069-2.086-10.534-2.637-15.731-1.69-6.605 1.229-12.813 4.915-17.331 11.123-3.162 4.326-6.118 10.01-8.781 17.267-2.611 7.091-4.941 15.539-6.848 25.562-1.536 8.051-2.458 14.874-3.354 21.35-1.779 13.235-3.379 25.19-9.19 41.933-6.144 17.754-14.464 35.661-22.861 51.43-12.057 22.657-24.448 41.333-30.374 48.552z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m344.983 178.764c-1.664-3.712 0-8.051 3.712-9.702s8.051 0 9.702 3.712c10.816 24.243 12.966 56.806 15.078 88.41 2.022 30.656 3.994 60.39 13.67 78.157 1.933 3.558.614 8.013-2.944 9.958-3.558 1.946-8.013.614-9.958-2.944-11.238-20.646-13.299-51.942-15.45-84.237-2.008-30.324-4.069-61.569-13.81-83.354z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m228.273 218.738c.218-4.058 3.661-7.155 7.706-6.976 4.058.218 7.155 3.661 6.976 7.706-1.933 37.35-9.741 79.258-25.011 119.501-13.146 34.688-31.859 68.134-57.075 96.486-2.701 3.046-7.347 3.315-10.381.614s-3.315-7.347-.614-10.381c23.987-26.944 41.779-58.803 54.31-91.878 14.719-38.771 22.246-79.13 24.089-115.072z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m242.75 468.607c-2.278 3.379-6.848 4.275-10.227 1.997s-4.275-6.848-1.997-10.227c13.76-20.365 24.422-40.883 33.421-61.414 9.088-20.71 16.525-41.472 23.782-62.054v-.026c1.357-3.84 5.555-5.862 9.395-4.518 2.675.922 4.454 3.251 4.851 5.862l1.101 5.248c5.901 27.866 11.277 53.299 27.405 82.086 1.997 3.533.742 8.013-2.829 10.01-3.533 1.997-8.013.742-10.01-2.829-13.299-23.744-19.661-44.979-24.73-66.79-4.762 12.902-9.805 25.869-15.514 38.861-9.343 21.4-20.402 42.725-34.648 63.794z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </button>
    <div class="lds-ellipsis loader" *ngIf="isLoading">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </form>

  <form
    class="form-control"
    #signupForm="ngForm"
    (ngSubmit)="onSignup(signupForm)"
    *ngIf="!isRegistered"
  >
    <h1>Register Your Biometrics!</h1>

    <p *ngIf="error && !isLoading" class="error-box">
      {{ error }}
    </p>

    <div class="form-input__cover">
      <input
        type="text"
        name="matricNumber"
        [ngClass]="{
          'form-input': true,
          'ng-valid': !error,
          'ng-invalid ng-touched': error
        }"
        [(ngModel)]="matricNum"
        required
        #matricNumber="ngModel"
        readonly
      />
      <span
        class="help-block"
        *ngIf="!matricNumber.valid && matricNumber.touched"
        >Invalid MatricNumber!</span
      >
    </div>
    <button class="biometric-trigger__cover" *ngIf="!isLoading">
      Register
      <svg
        x="0"
        y="0"
        viewBox="0 0 471.864 471.864"
        xml:space="preserve"
        class="biometric-trigger"
      >
        <g>
          <g xmlns="http://www.w3.org/2000/svg">
            <g>
              <g>
                <g>
                  <g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m93.655 76.709c-2.918 2.854-7.59 2.79-10.419-.128-2.854-2.918-2.79-7.59.128-10.419.435-.435 148.134-148.134 303.514-.768 2.944 2.79 3.072 7.462.243 10.381-2.79 2.944-7.462 3.072-10.381.243-144.934-137.446-282.675.294-283.085.691z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m198.974 66.674c-3.93.947-7.923-1.472-8.883-5.402s1.472-7.923 5.402-8.883c.525-.128 181.862-46.669 214.822 165.862.614 3.994-2.125 7.77-6.144 8.384-3.994.614-7.77-2.125-8.384-6.144-30.439-196.556-196.353-153.945-196.813-153.817z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m158.474 65.65c3.84-1.293 8.013.794 9.306 4.634s-.794 8.013-4.634 9.306c-.218.064-77.261 24.973-86.963 138.022-.333 4.058-3.904 7.066-7.962 6.733s-7.066-3.904-6.733-7.962c10.574-122.739 96.743-150.631 96.986-150.733z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m85.31 319.653c-3.098 2.611-7.744 2.176-10.355-.922s-2.176-7.744.922-10.355c8.077-6.758 14.259-21.376 18.957-38.374 4.915-17.754 8.115-38.029 10.202-55.014 3.814-30.502 16.102-58.765 34.496-80.858 13.235-15.885 29.619-28.595 48.23-36.621 18.739-8.077 39.693-11.456 61.99-8.666 27.213 3.379 56.397 15.974 85.773 40.486 3.098 2.586 3.533 7.219.947 10.317s-7.219 3.533-10.317.947c-27.034-22.515-53.581-34.074-78.182-37.146-19.597-2.432-37.965.525-54.374 7.59-16.499 7.13-31.027 18.368-42.765 32.474-16.589 19.942-27.712 45.53-31.181 73.242-2.176 17.382-5.466 38.336-10.662 57.139-5.441 19.547-13.032 36.814-23.681 45.761z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m112.458 370.956c-3.098 2.611-7.744 2.176-10.355-.922s-2.176-7.744.922-10.355c7.68-6.426 16.435-26.662 24.09-51.238 8.845-28.416 15.885-62.144 18.061-87.526.026-.397.09-.768.179-1.139 4.634-27.584 14.682-48.141 27.674-62.694 10.931-12.224 23.936-20.211 37.632-24.576 13.67-4.326 27.955-5.069 41.536-2.829 17.139 2.829 33.242 10.381 45.555 21.414 21.837 19.533 24.512 43.494 27.405 69.146.218 2.061.461 4.147.858 7.501.986 8.358 1.997 18.061 3.046 27.802 4.582 43.84 9.242 88.563 27.93 129.792 1.664 3.712.026 8.051-3.686 9.741-3.712 1.664-8.051.026-9.741-3.686-19.635-43.341-24.422-89.306-29.158-134.336-.922-8.819-1.843-17.574-3.046-27.584-.218-1.715-.525-4.672-.858-7.616-2.547-22.797-4.915-44.083-22.554-59.84-10.227-9.152-23.718-15.45-38.118-17.843-11.43-1.869-23.411-1.293-34.739 2.304-11.302 3.597-22.054 10.202-31.155 20.365-11.238 12.595-19.994 30.72-24.115 55.386-2.278 26.291-9.549 61.158-18.714 90.56-8.335 26.992-18.626 49.776-28.649 58.173z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m134.18 401.855c-2.586 3.136-7.219 3.622-10.355 1.05-3.136-2.573-3.622-7.219-1.05-10.355 5.466-6.694 17.139-24.358 28.787-46.234 8.166-15.36 16.218-32.589 21.99-49.306 5.286-15.27 6.784-26.573 8.474-39.104.922-6.822 1.869-14.003 3.443-22.144 2.086-10.842 4.608-20.096 7.501-27.866 3.136-8.474 6.758-15.36 10.752-20.826 6.886-9.395 16.41-15.053 26.547-16.922 7.962-1.472 16.282-.614 23.962 2.547 7.654 3.136 14.656 8.538 20.032 16.192 7.706 10.931 12.07 26.483 10.01 46.477-3.098 30.259-15.334 70.899-29.978 109.21-18.214 47.616-40.371 92.134-53.542 108.992-2.483 3.2-7.091 3.75-10.291 1.254-3.2-2.483-3.75-7.091-1.254-10.291 12.352-15.821 33.613-58.765 51.366-105.19 14.285-37.35 26.176-76.646 29.094-105.459 1.664-16.102-1.6-28.237-7.437-36.493-3.712-5.248-8.448-8.934-13.581-11.059-5.069-2.086-10.534-2.637-15.731-1.69-6.605 1.229-12.813 4.915-17.331 11.123-3.162 4.326-6.118 10.01-8.781 17.267-2.611 7.091-4.941 15.539-6.848 25.562-1.536 8.051-2.458 14.874-3.354 21.35-1.779 13.235-3.379 25.19-9.19 41.933-6.144 17.754-14.464 35.661-22.861 51.43-12.057 22.657-24.448 41.333-30.374 48.552z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m344.983 178.764c-1.664-3.712 0-8.051 3.712-9.702s8.051 0 9.702 3.712c10.816 24.243 12.966 56.806 15.078 88.41 2.022 30.656 3.994 60.39 13.67 78.157 1.933 3.558.614 8.013-2.944 9.958-3.558 1.946-8.013.614-9.958-2.944-11.238-20.646-13.299-51.942-15.45-84.237-2.008-30.324-4.069-61.569-13.81-83.354z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m228.273 218.738c.218-4.058 3.661-7.155 7.706-6.976 4.058.218 7.155 3.661 6.976 7.706-1.933 37.35-9.741 79.258-25.011 119.501-13.146 34.688-31.859 68.134-57.075 96.486-2.701 3.046-7.347 3.315-10.381.614s-3.315-7.347-.614-10.381c23.987-26.944 41.779-58.803 54.31-91.878 14.719-38.771 22.246-79.13 24.089-115.072z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                    <g>
                      <g>
                        <path
                          clip-rule="evenodd"
                          d="m242.75 468.607c-2.278 3.379-6.848 4.275-10.227 1.997s-4.275-6.848-1.997-10.227c13.76-20.365 24.422-40.883 33.421-61.414 9.088-20.71 16.525-41.472 23.782-62.054v-.026c1.357-3.84 5.555-5.862 9.395-4.518 2.675.922 4.454 3.251 4.851 5.862l1.101 5.248c5.901 27.866 11.277 53.299 27.405 82.086 1.997 3.533.742 8.013-2.829 10.01-3.533 1.997-8.013.742-10.01-2.829-13.299-23.744-19.661-44.979-24.73-66.79-4.762 12.902-9.805 25.869-15.514 38.861-9.343 21.4-20.402 42.725-34.648 63.794z"
                          fill-rule="evenodd"
                          fill="#f5f5f5"
                          data-original="#000000"
                          class=""
                        ></path>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </button>
    <div class="lds-ellipsis loader" *ngIf="isLoading">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </form>
</div>
